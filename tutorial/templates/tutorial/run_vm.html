<!DOCTYPE html>

	{% include 'bdrsite/header.html' %}
	<body>
		{% include 'bdrsite/nav.html' %}
		<section id="main" class="wrapper">
			<div class="container">
			<h3>Run website from a virtual machine</h3>
			<p>Carolyn Zhang, Xiao Peng (2/13/2018)

1.	Make new VM in Duke Virtual Computing Manager (google Duke VCM)
2.	Choose a virtual environment (Ubuntu 16.04)
3.	LOGIN TO VIRTUAL MACHINE (from local terminal) 
ssh netid@hostname (ex: cz73@vcm-3273.vm.duke.edu) 
a.	It will ask for password: use your normal netid password
4.	ONCE LOGGED ON TO VM: 
a.	sudo apt-get install python-setuptools python-dev build-essential.
b.	sudo easy_install pip
c.	sudo pip install Django
d.	sudo pip install postgres
e.	sudo apt-get install git
f.	git clone (https repository from website – bdrsite on carolyn’s github account ex: git clone https://github.com/carmzhang/bdrsite.git)
g.	in bdrsite/bdrsite find file settings.py and modify 2 things:
i.	Change ALLOWED_HOSTS  to  ALLOWED_HOSTS = [‘vcm-Number.vm.duke.edu’, 'localhost','127.0.0.1']
ii.	Change DATABASES to DATABASES = {
'default': {
         'ENGINE':'django.db.backends.sqlite3',
         'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
#        'ENGINE': 'django.db.backends.postgresql',
#        'NAME': 'bdr',
#        'USER': 'postgres',
#        'PASSWORD': 'redadmin',
#        'HOST' : 'bluedevilresistome-599.postgres.pythonanywhere-services.com',
#        'PORT': '10599',
    }
}
h.	Save file by esc, then type “:wq” in terminal.
i.	In main folder, type “python manage.py runserver hostname:8000” (ex: python manage.py runserver vcm-3273.vm.duke.edu:8000)
5.	On local computer (web browser) look at vcm-VMName.vm.duke.edu:8000 and the website will show up.
</p>

</div>
</section>
</body>
</html>
